	const proveedores =
	{
	  "LIU": {
		"FAN": 11,
		"RETRO": 16,
		"PLAYER ADIDAS": 13,
		"PLAYER NIKE": 14,
		"PLAYER PUMA": 14,
		"SHORT FAN": 8,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "5 Items",
		"ENVIO EMS": 20,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8617724352637&text&type=phone_number&app_absent=0"
	  },
	  "BOND": {
		"FAN": 11,
		"RETRO": 16,
		"PLAYER ADIDAS": 14,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 15,
		"SHORT FAN": 8,
		"SHORT PLAYER": 12,
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": 25,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615361409693&text&type=phone_number&app_absent=0"
	  },
	  "STARTJERSEY": {
		"FAN": 13,
		"RETRO": 17,
		"PLAYER ADIDAS": 16,
		"PLAYER NIKE": 16,
		"PLAYER PUMA": 16,
		"SHORT FAN": 11,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "3 Items",
		"ENVIO EMS": 10,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615207598085&text&type=phone_number&app_absent=0"
	  },
	  "PINHUI": {
		"FAN": 11,
		"RETRO": 17,
		"PLAYER ADIDAS": 13,
		"PLAYER NIKE": 17,
		"PLAYER PUMA": 15,
		"SHORT FAN": 10,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613416127767&text&type=phone_number&app_absent=0"
	  },
	  "HUANG (HOMBRE)": {
		"FAN": 12,
		"RETRO": 17,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 17,
		"PLAYER PUMA": 17,
		"SHORT FAN": 9,
		"SHORT PLAYER": 14,
		"ENVIO GRATIS": "4 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613535386151&text&type=phone_number&app_absent=0"
	  },
	  "BENE": {
		"FAN": 11,
		"RETRO": 16,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 15,
		"SHORT FAN": 9,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "3 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8618813326573&text&type=phone_number&app_absent=0"
	  },
	  "HUANG (MUJER)": {
		"FAN": 13,
		"RETRO": 18,
		"PLAYER ADIDAS": 16,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 11,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": 25,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613729056249&text&type=phone_number&app_absent=0"
	  },
	  "MAO GU": {
		"FAN": 12,
		"RETRO": 17,
		"PLAYER ADIDAS": 17,
		"PLAYER NIKE": 17,
		"PLAYER PUMA": 17,
		"SHORT FAN": 10,
		"SHORT PLAYER": 17,
		"ENVIO GRATIS": "5 Items",
		"ENVIO EMS": 10,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615860039751&text&type=phone_number&app_absent=0"
	  },
	  "ANNE": {
		"FAN": 12,
		"RETRO": 18,
		"PLAYER ADIDAS": 18,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 10,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": 15,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613620452224&text&type=phone_number&app_absent=0"
	  },
	  "FORNECEDOR (ANNE)": {
		"FAN": 10,
		"RETRO": 16,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 15,
		"SHORT FAN": 10,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8619584828798&text&type=phone_number&app_absent=0"
	  },
	  "YAOQUAN": {
		"FAN": 11,
		"RETRO": 16,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 16,
		"PLAYER PUMA": 16,
		"SHORT FAN": 11,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "7 Items",
		"ENVIO EMS": 15,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615707508070&text&type=phone_number&app_absent=0"
	  },
	  "WU JI ZHEN": {
		"FAN": 12,
		"RETRO": 18,
		"PLAYER ADIDAS": 17,
		"PLAYER NIKE": 17,
		"PLAYER PUMA": 17,
		"SHORT FAN": 12,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=553182946337&text&type=phone_number&app_absent=0"
	  },
	  "HANG": {
		"FAN": 13,
		"RETRO": 19,
		"PLAYER ADIDAS": 16,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 11,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "4 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=553182946337&text&type=phone_number&app_absent=0"
	  },
	  "LIANG": {
		"FAN": 11,
		"RETRO": 16,
		"PLAYER ADIDAS": 14,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 14,
		"SHORT FAN": 9,
		"SHORT PLAYER": 12,
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613713803864&text&type=phone_number&app_absent=0"
	  },
	  "WILID": {
		"FAN": 13,
		"RETRO": 19,
		"PLAYER ADIDAS": 16,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 11,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "4 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613536398769&text&type=phone_number&app_absent=0"
	  },
	  "MO WENQIAN": {
		"FAN": 13,
		"RETRO": 17,
		"PLAYER ADIDAS": 16,
		"PLAYER NIKE": 16,
		"PLAYER PUMA": 16,
		"SHORT FAN": 11,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "5 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613570519855&text&type=phone_number&app_absent=0"
	  },
	  "ASSON": {
		"FAN": 12,
		"RETRO": 19,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 16,
		"PLAYER PUMA": 16,
		"SHORT FAN": 10,
		"SHORT PLAYER": 12,
		"ENVIO GRATIS": "5 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613413637680&text&type=phone_number&app_absent=0"
	  },
	  "KKST": {
		"FAN": 13,
		"RETRO": 16,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 15,
		"SHORT FAN": 8,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "3 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8617520528000&text&type=phone_number&app_absent=0"
	  },
	  "MOZHONGTONG": {
		"FAN": 12,
		"RETRO": 18,
		"PLAYER ADIDAS": 17,
		"PLAYER NIKE": 17,
		"PLAYER PUMA": 17,
		"SHORT FAN": 12,
		"SHORT PLAYER": 15,
		"ENVIO GRATIS": "5 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8618820627836&text&type=phone_number&app_absent=0"
	  },
	  "XIAOGUANG": {
		"FAN": 13,
		"RETRO": 19,
		"PLAYER ADIDAS": 18,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 13,
		"SHORT PLAYER": 16,
		"ENVIO GRATIS": "6 Items",
		"ENVIO EMS": 10,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615766574420&text&type=phone_number&app_absent=0"
	  },
	  "MAGGIE": {
		"FAN": 13,
		"RETRO": 18,
		"PLAYER ADIDAS": 18,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": 12,
		"SHORT PLAYER": 17,
		"ENVIO GRATIS": "6 Items",
		"ENVIO EMS": 10,
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8615875333462&text&type=phone_number&app_absent=0"
	  },
"WUSOCCER": {
		"FAN": 13,
		"RETRO": 19,
		"PLAYER ADIDAS": 18,
		"PLAYER NIKE": 18,
		"PLAYER PUMA": 18,
		"SHORT FAN": "N/A",
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "6 Items",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613450265109&text&type=phone_number&app_absent=0"
	  },
	  "XIAO LI": {
		"FAN": 12,
		"RETRO": 16,
		"PLAYER ADIDAS": 15,
		"PLAYER NIKE": 15,
		"PLAYER PUMA": 15,
		"SHORT FAN": 10,
		"SHORT PLAYER": "N/A",
		"ENVIO GRATIS": "N/A",
		"ENVIO EMS": "N/A",
		"CONTACTO": "https://api.whatsapp.com/send/?phone=8613650919444&text&type=phone_number&app_absent=0"
	  }
	}


	// Detectar tecla Enter en el input
	document.getElementById("user-input").addEventListener("keydown", function(event) {
	  if (event.key === "Enter") {
		sendMessage();
	  }
	});

function sendMessage() {
  const input = document.getElementById("user-input");
  const chatBox = document.getElementById("chat-box");
  const userText = input.value.trim();
  
  // No hacer nada si el mensaje está vacío
  if (userText === "") return;

  // Mostrar mensaje del usuario
  const userMessage = `
    <div class="message-row user-message">
      <div class="user">
        <div class="bubble">${userText}</div>
      </div>
      <img src="https://img.icons8.com/ios-filled/50/user-male-circle.png" class="avatar" alt="Usuario">
    </div>
  `;
  chatBox.innerHTML += userMessage;
  input.value = "";

  setTimeout(() => {
    const botText = getBotResponse(userText);

    // Solo agregar mensaje si botText NO es null, undefined o cadena vacía
    if (botText !== null && botText !== undefined && botText !== "") {
      const botMessage = `
        <div class="message-row bot-message">
          <img src="https://cdn-icons-png.flaticon.com/512/4712/4712027.png" class="avatar" alt="Bot">
          <div class="bot">
            <div class="bubble">${botText}</div>
          </div>
        </div>
      `;
      chatBox.innerHTML += botMessage;
      chatBox.scrollTop = chatBox.scrollHeight;
    }
  }, 500);
}


	// Mostrar mensaje de bienvenida y botones al cargar la página
	window.onload = function () {
	  const chatBox = document.getElementById("chat-box");

	  // Mensaje de bienvenida del bot
	  const welcomeMessage = `
		<div class="message-row bot-message">
		  <img src="https://cdn-icons-png.flaticon.com/512/4712/4712027.png" class="avatar" alt="Bot">
		  <div class="bot">
			<div class="bubble">
			  ¡Bienvenido! ¿En qué puedo ayudarte?
			  <div class="quick-buttons">
				<button onclick="handleQuickReply('Lista de Proveedores')">Lista de Proveedores</button>
				<button onclick="handleQuickReply('Mejores Paginas')">Mejores Paginas</button>
				<button onclick="handleQuickReply('Envios Gratis')">Envios Gratis</button>
				<button onclick="handleQuickReply('Precios EMS')">Precios EMS</button>
                <button onclick="handleQuickReply('EXCEL')">EXCEL</button>
			  </div>
			</div>
		  </div>
		</div>
	  `;
	  
	  chatBox.innerHTML += welcomeMessage;
	};

// Función para mostrar los precios de un proveedor específico
function mostrarPreciosProveedor(nombreProveedor) {
  const proveedor = proveedores[nombreProveedor];
  if (!proveedor) {
    return `No se encontró información para el proveedor "${nombreProveedor}".`;
  }

  let html = `<strong>Precios de ${nombreProveedor}:</strong><ul>`;
  for (const key in proveedor) {
    if (key !== "CONTACTO") {
      html += `<li><strong>${key}:</strong> ${proveedor[key]}</li>`;
    }
  }
  html += `<li><strong>Contacto:</strong> <a href="${proveedor["CONTACTO"]}" target="_blank">WhatsApp</a></li>`;
  html += "</ul>";
  return html;
}







function mostrarEnviosGratis() {
  let html = "<strong>Proveedores con Envío Gratis:</strong><ul style='padding-left: 20px;'>";
  let encontrados = false;

  for (const nombre in proveedores) {
    const envioGratis = proveedores[nombre]["ENVIO GRATIS"];
    const contacto = proveedores[nombre]["CONTACTO"];

    if (envioGratis && envioGratis !== "N/A") {
      encontrados = true;

      html += `
        <li style="margin-bottom: 10px;">
          <i class="fas fa-user"></i> <u>${nombre}</u><br>
          <i class="fas fa-truck"></i> ENVÍO GRATIS: Llevando ${envioGratis}<br>
          <i class="fab fa-whatsapp"></i> CONTACTO: <a href="${contacto}" target="_blank">WhatsApp</a>
        </li>
      `;
    }
  }

  html += "</ul>";

  if (!encontrados) {
    html = "No se encontraron proveedores con envío gratis.";
  }

  agregarMensajeBot(html);
}



	// Enrutador de respuestas
	function handleQuickReply(opcion) {
	  agregarMensajeUsuario(opcion);

	  switch (opcion) {
		case "Lista de Proveedores":
		  mostrarProveedores();
		  break;
		case "Envios Gratis":
		  mostrarEnviosGratis();
		  break;
		case "Precios EMS":
		  mostrarPreciosEMS();
		  break;	
		case "Mejores Paginas":
		  mostrarMejoresPaginas();
		  break;
		case "EXCEL":
		  window.open('https://docs.google.com/spreadsheets/d/145xo2RmlYNt3g2I-U087mGu2B8vEmpfrC3P72c5ZgQg/edit?usp=drive_link', '_blank');
		  break;		  
		default:
		  const respuesta = respuestasBot[opcion] || "No tengo datos sobre eso aún.";
		  agregarMensajeBot(respuesta);
	  }
	}

	// Pone el icono de USUARIO en el chat
	function agregarMensajeUsuario(texto) {
	  const chatBox = document.getElementById("chat-box");
	  const mensaje = `
		<div class="message-row user-message">
		  <div class="user">
			<div class="bubble">${texto}</div>
		  </div>
		  <img src="https://img.icons8.com/ios-filled/50/user-male-circle.png" class="avatar" alt="Usuario">
		</div>
	  `;
	  chatBox.innerHTML += mensaje;
	  chatBox.scrollTop = chatBox.scrollHeight;
	}
	// Pone el icono de ROBOT en el chat
	function agregarMensajeBot(texto) {
	  const chatBox = document.getElementById("chat-box");
	  const mensaje = `
		<div class="message-row bot-message">
		  <img src="https://cdn-icons-png.flaticon.com/512/4712/4712027.png" class="avatar" alt="Bot">
		  <div class="bot">
			<div class="bubble">${texto}</div>
		  </div>
		</div>
	  `;
	  chatBox.innerHTML += mensaje;
	  chatBox.scrollTop = chatBox.scrollHeight;
	}
	// Muestra el resultado cuando se presiona el boton Precios EMS
	function mostrarPreciosEMS() {
	  let html = "<strong>Proveedores con Precio EMS:</strong><ul style='padding-left: 20px;'>";
	  let encontrados = false;

	  for (const nombre in proveedores) {
		const precioEMS = proveedores[nombre]["ENVIO EMS"];
		const contacto = proveedores[nombre]["CONTACTO"];

		if (precioEMS !== "N/A" && precioEMS !== undefined) {
		  encontrados = true;

		  html += `
			<li style="margin-bottom: 10px;">
			  <i class="fas fa-user"></i> <u>${nombre}</u><br>
			  <i class="fas fa-plane"></i> PRECIO EMS: $${precioEMS}<br>
			  <i class="fab fa-whatsapp"></i> CONTACTO: <a href="${contacto}" target="_blank">WhatsApp</a>
			</li>
		  `;
		}
	  }

	html += "</ul>";

	  if (!encontrados) {
		html = "No se encontraron proveedores con precio EMS.";
	  }

	  agregarMensajeBot(html);
	}



	function mostrarProveedores() {
	  let html = "<strong>Lista de Proveedores:</strong><ul style='padding-left: 20px;'>";

	  for (const nombre in proveedores) {
		const contacto = proveedores[nombre]["CONTACTO"];
		html += `
		  <li style="margin-bottom: 10px;">
			<i class="fas fa-user"></i> <u>${nombre}</u><br>
			<i class="fab fa-whatsapp"></i> CONTACTO: <a href="${contacto}" target="_blank">WhatsApp</a>
		  </li>
		`;
	  }

	  html += "</ul>";
	  agregarMensajeBot(html);
	}

	// Muestra el resultado cuando se presiona el boton MEJORES PAGINAS
	function mostrarMejoresPaginas() {
	  const texto = `
	  <strong>🔝 10 Mejores Páginas para Comprar Camisetas:</strong>
			<ol>
			  <li>🌐 <a href="https://www.kitmm.com" target="_blank">WWW.KITMM.COM</a></li>
			  <li>🌐 <a href="https://www.kitgg7.com" target="_blank">WWW.KITGG7.COM</a></li>
			  <li>🌐 <a href="https://www.fballshirt.com" target="_blank">WWW.FBALLSHIRT.COM</a></li>
			  <li>🌐 <a href="https://www.grkits3.com" target="_blank">WWW.GRKITS3.COM</a></li>
			  <li>🌐 <a href="https://www.minejerseys.cc" target="_blank">WWW.MINEJERSEYS.CC</a></li>
			  <li>🌐 <a href="https://www.bestzv1.com" target="_blank">WWW.BESTZV1.COM</a></li>
			  <li>🌐 <a href="https://www.koko101.com" target="_blank">WWW.KOKO101.COM</a></li>
			  <li>🌐 <a href="https://www.kkfoo.com" target="_blank">WWW.KKFOO.COM</a></li>
			  <li>🌐 <a href="https://www.gakits.com" target="_blank">WWW.GAKITS.COM</a></li>
			  <li>🌐 <a href="https://www.spfoot1.com" target="_blank">WWW.SPFOOT1.COM</a></li>
			</ol>
			<p>Estas son las páginas más confiables y con mejores reseñas según la comunidad de FUTBOL XL.</p>
			<p>📽️ <a href="https://www.youtube.com/watch?v=T1tP98acheI" target="_blank">VIDEO RESEÑA FUTBOL XL</a></p> 
	  `;
	  agregarMensajeBot(texto);
	}

	function getBotResponse(userText) {
  const input = userText.trim().toLowerCase();

  // 1. Tabla de medidas
  if (input.includes("tabla de medidas")) {
    return `
      <div>
        <p style="font-weight: bold; color: #000000;">
          ⚠️ Las tallas mostradas son a modo de referencia. Para mayor precisión, te recomendamos usar una cinta métrica y medir tu prenda de ropa.
        </p>
        <img src="retro.jpeg" alt="Tabla de medidas 1" style="max-width: 100%; border-radius: 10px; margin-bottom: 10px;">
        <img src="fan.jpeg" alt="Tabla de medidas 2" style="max-width: 100%; border-radius: 10px; margin-bottom: 10px;">
        <img src="player.jpeg" alt="Tabla de medidas 3" style="max-width: 100%; border-radius: 10px;">
      </div>
    `;
  }

  // 2. Buscar proveedor exacto o con "Precios de [Proveedor]"
  for (const nombre in proveedores) {
    const nombreLower = nombre.toLowerCase();

    // Si el mensaje es exactamente el nombre del proveedor
    if (input === nombreLower) {
      return mostrarPreciosProveedor(nombre);
    }

    // Si el mensaje incluye "precios de [proveedor]" o combinaciones
    if (input.includes("precios de " + nombreLower) || (input.includes("precios") && input.includes(nombreLower))) {
      return mostrarPreciosProveedor(nombre);
    }
  }

  // 3. Respuesta por defecto
  return "No entendí tu mensaje. Intenta escribir algo como: <br>📌 Tabla de medidas<br>📌 Precios de [Proveedor]";
}

// Función auxiliar para mostrar precios
function mostrarPreciosProveedor(nombre) {
  const datos = proveedores[nombre];
  return `
    👤<strong>${nombre}</strong><br>
    👕FAN: $${datos["FAN"]}<br>
    👕RETRO: $${datos["RETRO"]}<br>
    👕PLAYER ADIDAS: $${datos["PLAYER ADIDAS"]}<br>
    👕PLAYER NIKE: $${datos["PLAYER NIKE"]}<br>
    👕PLAYER PUMA: $${datos["PLAYER PUMA"]}<br>
    🩳SHORT FAN: $${datos["SHORT FAN"]}<br>
    🩳SHORT PLAYER: $${datos["SHORT PLAYER"]}<br>
    📦ENVÍO GRATIS: ${datos["ENVIO GRATIS"]}<br>
    ✈️ENVÍO EMS: $${datos["ENVIO EMS"]}<br>
    <i class="fab fa-whatsapp"></i> CONTACTO: <a href="${datos["CONTACTO"]}" target="_blank">WhatsApp</a>
  `;
}


	
